apply plugin: 'jacoco'

jacoco {
    toolVersion = '0.8.7'
}

def fileFilter = [
        // data binding
        'android/databinding/**/*.class',
        '**/android/databinding/*Binding.class',
        '**/android/databinding/*',
        '**/androidx/databinding/*',
        '**/BR.*',
        // android
        '**/R$*.class',
        '**/Manifest*.*',
        '**/*Test*.*',
        'android/**/*.*',
        // kotlin
        '**/*MapperImpl*.*',
        '**/*$ViewInjector*.*',
        '**/*$ViewBinder*.*',
        '**/BuildConfig.*',
        '**/*Component*.*',
        '**/*BR*.*',
        '**/Manifest*.*',
        '**/*$Lambda$*.*',
        '**/*Companion*.*',
        '**/*Module*.*',
        '**/*Dagger*.*',
        '**/*Hilt*.*',
        '**/*MembersInjector*.*',
        '**/*_MembersInjector.class',
        '**/*_Factory*.*',
        '**/*_Provide*Factory*.*',
        '**/*Extensions*.*',
        // sealed and data classes
        '**/*$Result.*',
        '**/*$Result$*.*',
        // adapters generated by moshi
        '**/*JsonAdapter.*',
]

ext.coverageExclusionFiles = [
        "**/AutoValue_*",

        // android
        '**/R.class',
        '**/BuildConfig.*',
        '**/*_Impl.*',
        '**/*_Impl$*',
        '**/*Directions.*',
        '**/*Directions$*.*',
        '**/*Args.*',
        '**/*Args$*.*',
        '**/DummyActivity.*',

        // dagger
        '**/Dagger*Component.*',
        '**/Dagger*Component$*.*',
        '**/*_Factory.*',
        '**/*_Factory$*.*',
        '**/*Factory*InstanceHolder.*',

        // Tests
        //'**/src/test/java/**',
        //'**/src/androidTest/java/**',
        '**/*Test.*',
        '**/*Test$*.*',

        // CLI client
        '**/clientold/**/*',

        // duplicates in uimock and prod
        '**/RootComponent.class',
        '**/SetupActivity.class',
]
